<html>
<head>
<title>Syzygy: Supporting Libraries</title>
</head>
<body bgcolor="#ffffff">
<a href="index.html">Documentation Index</a>

<p><font size=+2>Syzygy: Supporting Libraries</font>

<p>Syzygy's build system is designed to let you compile your software using
the optional supporting libraries but without installing them in a standard 
system location. This allows non-root users to compile Syzygy with supporting
libraries. The build system expects the "external" libraries to be installed
in a directory given by the SZGEXTERNAL environment variable. You will either
create this directory structure by hand or download an external directory
as part of the SDK.

<p>The Syzygy makefiles (via szg/build/make/Makefile.libscan) will 
automatically detect the presence of the libraries, given that they are copied 
to the places outlined below. See Makefile.libscan for details. This is the
file you should change if you need to use different library versions or
otherwise tweak this process for your local installation.

<ul>
<li><a href="#SZGEXTERNAL">Directory Structure of SZGEXTERNAL</a>
<li><a href="#Use">Use of Specific Libraries</a>
<li><a href="#General">General Comments on External Libraries</a>
<li><a href="#Darwin">Installing Libraries for Mac OS X (darwin)</a>
<li><a href="#Linux">Installing Libraries for Linux</a>
<li><a href="#SGI">Installing Libraries for SGI</a>
<li><a href="#Windows">Installing Libraries for Windows</a>
</ul>

<a name="SZGEXTERNAL">
<p><font size=+2>Directory Structure of SZGEXTERNAL</font>
</a>

<p>The top level of the SZGEXTERNAL directory has subdirectories for each
system (Linux, Windows, Mac OS X, SGI) that it supports. When creating
your own SZGEXTERNAL, you do not need all of these subdirectories, since you
might support only one or two system types.

<pre>
  SZGEXTERNAL
    darwin
    linux
    sgi
    win32
</pre>

<p>We now outline the subdirectories of each system-specific directory.
These vary, based on the supporting libraries for a particular platform.
As a general rule, each subdirectory will contain in turn "include" and "lib"
subdirectories. 

<pre>
  darwin
    fmod-3.7
    jpeg
</pre>

<pre>
  linux
    Coin-2.3
    VTK-4.2
    fmod-3.7
    glut-3.7
    jpeg
    lib3ds
    vrpn
    zlib
</pre>

<pre>
  sgi
    glut-3.7
</pre>

<pre>
  win32
    Coin-2.3
    GL
    STLport
    VTK-4.2
    ascension
    evart
    fmod-3.7
    glut-3.7
    isense
    jpeg
    lib3ds
    sapi-5.1
    zlib
</pre>

<a name="Use">
<p><font size=+2>Use of Specific Libraries</font>
</a>

<p><ul>
<li>Coin-2.3: A library for reading OpenInventor/ VRML models. Needed for
VRMLView in szgdemo.
<li>GL: q33 (a Quake3 level viewer) needs glext.h to compile. This header
will likely not exist on a Windows installation, so it is provided here.
<li>STLport: Visual Studio 6 (Windows) needs a replacement STL, which
this provides.
<li>VTK-4.2: A data visualization library needed for vtkfile in szgdemo.
<li>ascension: Contains a Windows-only driver for the Flock-of-Birds.
<li>evart: Contains a driver for the Motion Analysis optical motion capture
system.
<li>fmod-3.7: A cross-platform sound library.
<li>glut-3.7: A cross-platform OpenGL windowing library.
<li>isense: Drivers for the Intersense motion trackers.
<li>jpeg: A library for encoding/decoding jpeg image files. Needed by the
q33 and cubecake demos.
<li>lib3ds: A library for reading 3ds (3D Studio Max) files.
<li>sapi-5.1: A Microsoft text-to-speech library.
<li>vrpn: A library for interfacing with VR input devices.
<li>zlib: A library for compressing/decompressing files. Needed by the
q33 and cubecake demos.
</ul>

<a name="General">
<p><font size=+2>General Comments on External Libraries</font>
</a>

<p>With the possible exception of the GLUT libraries, if you do not
properly install an optional library in SZGEXTERNAL, Syzygy programs will
still build and run, but with certain features (such as sound) disabled.
When an external library requires a shared library, the runtime linker must be
able to find it. A Makefile target exists to install shared libries in 
$SZGBIN. 

<pre>
  cd $SZGHOME/build
  make install-shared
</pre> 

<p>If you have compiled your executables from scratch on a Unix system, they
have a runtime linker path including $SZGBIN. Consequently, installing the
shared libraries with the Syzygy executables will let the runtime linker
find them. If you are on a Windows system, the runtime linker automatically
searches the directory in which the executable it runs resides.

<p>If you are using a precompiled SDK on a Unix-like system, you will need
to add the $SZGBIN to the dynamic linker's path.

<p>A word is required regarding GLUT. Syzygy compilation requires it. Some 
systems will have in installed by default (Mac OS X). Some systems might
or might not have it installed (Linux, SGI), and some will probably not have
it installed (Windows). If it is installed so that the compiler will
automatically find the header and library and the runtime linker will find the
shared library, then you need do nothing else. Otherwise, you can either
install GLUT like that yourself, or install it for Syzygy only in SZGEXTERNAL,
as described below.

<a name="Darwin">
<p><font size=+2>Installing Libraries for Mac OS X (darwin)</font>
</a>

<p><ul>
<li>fmod-3.7
  <ul>
  <li>For sound support, install 
  <a href="http://www.fmod.org/">fmod</a> version 3.7.
  <li>Copy libfmod.a into $(SZGEXTERNAL)/darwin/fmod-3.7/lib.
  <li>Copy these include files into $(SZGEXTERNAL)/darwin/fmod-3.7/include:
      fmoddyn.h, fmod.h, fmod_errors.h, wincompat.h.
  <li>If you don't copy these files, Syzygy will still build and run but
      sound support will be disabled.
  </ul>
<li>jpeg
  <ul>
  <li>Either download, configure, and compile libjpeg or simply copy
      the files that are already installed on your system 
      (try 'locate libjpeg').
  <li>Make a directory $(SZGEXTERNAL)/darwin/jpeg/lib and copy
      libjpeg.a there.
  <li>Make a directory $(SZGEXTERNAL)/darwin/jpeg/include and copy
      jconfig.h, jmorecfg.h, and jpeglib.h there.
  </ul>
</ul>

<a name="Linux">
<p><font size=+2>Installing Libraries for Linux</font>
</a>

<p><ul>
<li>Coin-2.3
<li>VTK-4.2
<li>fmod-3.7
  <ul>
  <li>For sound support, install 
  <a href="http://www.fmod.org/">fmod</a> version 3.7.
  <li>Copy libfmod-3.7.so into $(SZGEXTERNAL)/linux/fmod-3.7/lib.
  <li>Copy these include files into $(SZGEXTERNAL)/linux/fmod-3.7/include:
      fmoddyn.h, fmod.h, fmod_errors.h, wincompat.h.
  <li>If you don't copy these files, Syzygy will still build and run but
      sound support will be disabled.
  </ul>
<li>glut-3.7
  <ul>
  <li>Download and compile GLUT-3.7.
  <li>Make a directory $(SZGEXTERNAL)/linux/glut-3.7/include/GL and
      put glut.h there.
  <li>Make a directory $(SZGEXTERNAL)/linux/glut-3.7/lib and put libglut.so.3.7
      there. You will also need to make symbolic links like so:
      <pre>
      ln -s libglut.so.3.7 libglut.so.3
      ln -s libglut.so.3 libglut.so
      </pre>
  </ul>
<li>jpeg
  <ul>
  <li>Either download, configure, and compile libjpeg or simply copy
      the files that are already installed on your system 
      (try 'locate libjpeg.a').
  <li>Make a directory $(SZGEXTERNAL)/linux/jpeg/lib and copy
      libjpeg.a there.
  <li>Make a directory $(SZGEXTERNAL)/linux/jpeg/include and copy
      jconfig.h, jmorecfg.h, and jpeglib.h there.
  </ul>
<li>lib3ds
  <ul>
  <li>In order to import .3ds files (Autodesk 3D Studio format), you will need 
  to build and install lib3ds. Included in $SZGHOME/contrib/ is a folder named
  "lib3ds", which is simply the latest release of lib3ds, downloaded from
  <A HREF="http://www.sourceforge.net/projects/lib3ds/">
  http://www.sourceforge.net/projects/lib3ds/</a>. Follow the instructions
  provided in $SZGHOME/contrib/lib3ds/INSTALL to build the library. 
  <li>Make a directory $(SZGEXTERNAL)/linux/lib3ds/include and copy all
  header files there.
  <li>Make a directory $(SZGEXTERNAL)/linux/lib3ds/lib and copy
  lib3ds.a there.
  </ul>
<li>vrpn
  <ul>
  <li>Download and compile vrpn.
  <li>Copy libvrpn.a to $(SZGEXTERNAL)/linux/vrpn/lib.
  <li>Make a directory $(SZGEXTERNAL)/linux/vrpn/include and copy the vrpn 
      header files there. Note that only vrpn_Shared.h, vrpn_Tracker.h, 
      vrpn_Analog.h, and vrpn_Button.h are needed.
</ul>

<li>zlib
  <ul>
  <li>Either download, configure, and compile zlib or simply copy
      the files that are already installed on your system
      (try "locate libz.a").
  <li>Make a directory $(SZGEXTERNAL)/linux/zlib/lib and copy
      libz.a there.
  <li>Make a directory $(SZGEXTERNAL)/linux/zlib/include and copy
      zconf.h and zlib.h there.
  </ul>
</ul>

<a name="SGI">
<p><font size=+2>Installing Libraries for SGI</font>
</a>

<p><ul>
<li>glut-3.7
  <ul>
  <li>Download and compile GLUT-3.7. You will want to compile "n32" format
      objects since this is what Syzygy uses.
  <li>Make a directory $(SZGEXTERNAL)/sgi/glut-3.7/include/GL and
      put glut.h there.
  <li>Make a directory $(SZGEXTERNAL)/sgi/glut-3.7/lib and put libglut.a
      there.
  </ul>
</ul>

<a name="Windows">
<p><font size=+2>Installing Libraries for Windows</font>
</a>

<p>Of special note is the STLport library. If you are using Visual Studio
6 to compile Syzygy, you CANNOT use the native STL. In this case, you MUST
use STLport (the software will crash otherwise). If you are using Visual
STudio .NET, you should use the native STL.

<p><ul>
<li>Coin-2.3
<li>GL
  <ul>
  <li>This is only used to provide glext.h to certain demos (q33 and cubecake).
  <li>Make a directory $(SZGEXTERNAL)/win32/GL/include. Copy glext.h there.
  <li>Make a directory $(SZGEXTERNAL)/win32/GL/include/GL. Copy glext.h there.
  </ul>
<li>STLport
  <ul>
  <li>You should only compile against STLport if you have Visual Studio 6.
  <li>Down and compile STLport (you will want the iostream library, not
      just the header files).
  <li>Make a directory $(SZGEXTERNAL)/win32/STLport. This is the Syzygy
      STLport directory (in contrast with the native STLport directory
      where you compiled the software).
  <li>From the native STLport directory, copy the lib and stlport 
      subdirectories to the Syzygy STLport directory.
  </ul>
<li>VTK-4.2
<li>ascension
  <ul>
  <li>
  Download BirdWindowsDriver.zip from 
  <a href="http://www.ascension-tech.com/support/downloads/">here</a>.
  <li> Copy Bird.lib and Bird.dll to $(SZGEXTERNAL)/win32/ascension/lib.
  <li> Copy Bird.h to $(SZGEXTERNAL)/win32/ascension/include.
  </ul>
<li>evart
  <ul>
  <li>You should have received files EvaRT.h, macrtcom.lib, and macrtcom.dll 
  with your optical motion capture system. 
  <li>Copy EvaRT.h into $(SZGEXTERNAL)/win32/evart/include.
  <li>Copy macrtcom.lib and macrtcom.dll into $(SZGEXTERNAL)/win32/evart/lib.
  </ul>
<li>fmod-3.7
  <ul>
  <li>For sound support, install 
  <a href="http://www.fmod.org/">fmod</a> version 3.7.
  <li>Copy fmod.dll and fmodvc.lib  into $(SZGEXTERNAL)/win32/fmod-3.7/lib.
  <li>Copy these include files into $(SZGEXTERNAL)/win32/fmod-3.7/include:
      fmoddyn.h, fmod.h, fmod_errors.h, wincompat.h.
  <li>If you don't copy these files, Syzygy will still build and run but
      sound support will be disabled.
  </ul>
<li>glut-3.7
  <ul>
  <li>You will need to obtain GLUT since it is not built in on Windows 
      systems.
  <li>Download GLUT-3.7.
  <li>Make a directory $(SZGEXTERNAL)/win32/glut-3.7/include/GL and
      put glut.h there.
  <li>Make a directory $(SZGEXTERNAL)/win32/glut-3.7/lib and put glut32.dll
      and glut32.lib there.
  </ul>
<li>isense
<li>jpeg
  <ul>
  <li>You will need to download, configure, and compile libjpeg for
      your system. This is trickier than on Unix-like systems.
    <ol>
    <li>Before compiling, copy jconfig.vc to jconfig.h.
    <li>Before compiling, copy makefile.vc to Makefile.
    <li>Before compiling, edit jmorecfg.h so that:

    <pre>
    #ifndef XMD_H                   /* X11/xmd.h correctly defines INT32 */
    typedef long INT32;
    #endif
    </pre>

    becomes

    <pre>
    #ifndef _BASETSD_H_
    #ifndef XMD_H                   /* X11/xmd.h correctly defines INT32 */
    typedef long INT32;
    #endif
    #endif
    <li>Before compiling, edit Makefile so that

    <pre>
    $(cc) $(CFLAGS) $*.c
    </pre>

    becomes

    <pre>
    $(cc) $(CFLAGS) /MD $*.c
    </pre>
    <li>You will need to use nmake from a DOS prompt to build the software.
    </ol>
  <li>Make a directory $(SZGEXTERNAL)/win32/jpeg/lib and copy
      libjpeg.lib there.
  <li>Make a directory $(SZGEXTERNAL)/win32/jpeg/include and copy
      jconfig.h, jmorecfg.h, and jpeglib.h there.
  </ul>
<li>lib3ds
  <ul>
  <li>In order to import .3ds files (Autodesk 3D Studio format), you will need 
  to build and install lib3ds. Included in $SZGHOME/contrib/ is a folder named
  "lib3ds", which is simply the latest release of lib3ds, downloaded from
  <A HREF="http://www.sourceforge.net/projects/lib3ds/">
  http://www.sourceforge.net/projects/lib3ds/</a>. Follow the instructions
  provided in $SZGHOME/contrib/lib3ds/INSTALL to build the library. 
  <li>Make a directory $(SZGEXTERNAL)/win32/lib3ds/include and copy all
  header files there.
  <li>Make a directory $(SZGEXTERNAL)/win32/lib3ds/lib and copy
  lib3ds.lib there.
  </ul>
<li>sapi-5.1
<li>zlib
  <ul>
  <li>Download, configure, and compile zlib. This will be done using
      nmake from the DOS prompt. You will want to add the compile flag "/MD"
      as in the libjpeg example above.
  <li>Make a directory $(SZGEXTERNAL)/linux/zlib/lib and copy
      libz.lib there.
  <li>Make a directory $(SZGEXTERNAL)/linux/zlib/include and copy
      zconf.h and zlib.h there.
  </ul>
</ul>

<hr>

</body>
</html>
